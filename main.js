!function(){"use strict";var t={839:function(t){t.exports="https://images.unsplash.com/photo-1473726867722-6b8a5e529d76?q=80&w=872&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},515:function(t){t.exports="https://images.unsplash.com/photo-1496425745709-5f9297566b46?w=1000&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxjb2xsZWN0aW9uLXBhZ2V8MXxaOFBqZHhJTnBBOHx8ZW58MHx8fHx8"},412:function(t){t.exports="https://images.unsplash.com/photo-1547686669-9a8cb1a22d91?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},509:function(t){t.exports="https://images.unsplash.com/photo-1562095241-8c6714fd4178?q=80&w=1965&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},95:function(t){t.exports="https://images.unsplash.com/photo-1568402102990-bc541580b59f?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},471:function(t){t.exports="https://images.unsplash.com/photo-1630465711172-4d987f3fd9c8?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.m=t,n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.b=document.baseURI||self.location.href;var r=profile.elements.name,o=profile.elements.description,i=(document.querySelector(".popup_profile"),document.querySelector(".elements")),u=(document.querySelector(".popup_image"),document.querySelector(".popup_add"),document.forms.profile),a=document.forms.add;function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function f(t){var e=function(t){if("object"!=c(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==c(e)?e:e+""}var p=function(){return t=function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e,this._link=n,this._cardSelector=r,this.handleCardClick=o},(e=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._element.querySelector(".element__image").src=this._link,this._element.querySelector(".element__text").textContent=this._name,this._element}},{key:"_setEventListeners",value:function(){var t=this;this._element.querySelector(".element__button-trash").addEventListener("click",(function(){t._element.remove()})),this._element.querySelector(".element__button-like").addEventListener("click",(function(t){t.target.classList.toggle("element__button-dislike")})),this._element.querySelector(".element__image").addEventListener("click",(function(){t.handleCardClick()}))}}])&&l(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m(r.key),r)}}function m(t){var e=function(t){if("object"!=s(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:e+""}var b=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._formElement=e,this._formValidity=n},(e=[{key:"_showInputError",value:function(t,e,n){var r=t.querySelector(".".concat(e.id,"-error"));e.classList.add(this._formValidity.inputErrorClass),r.textContent=n,r.classList.add(this._formValidity.errorClass)}},{key:"_hideInputError",value:function(t,e){var n=t.querySelector(".".concat(e.id,"-error"));e.classList.remove("popup__input_type_error"),n.classList.remove("popup__input-error_active"),n.textContent=""}},{key:"_checkInputValidity",value:function(t,e){e.validity.valid?this._hideInputError(t,e):this._showInputError(t,e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(t){return t.some((function(t){return!t.validity.valid}))}},{key:"_toggleButtonState",value:function(t,e){this._hasInvalidInput(t)?(e.setAttribute("disabled",!0),e.classList.add(this._formValidity.inactiveButtonClass)):(e.removeAttribute("disabled"),e.classList.remove(this._formValidity.inactiveButtonClass))}},{key:"_setEventListeners",value:function(t){var e=this,n=Array.from(t.querySelectorAll(".popup__input")),r=t.querySelector(".popup__button-submit");this._toggleButtonState(n,r),n.forEach((function(o){o.addEventListener("input",(function(){e._checkInputValidity(t,o),e._toggleButtonState(n,r)}))}))}},{key:"enableValidation",value:function(){this._setEventListeners(this._formElement)}}])&&y(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function h(t){var e=function(t){if("object"!=v(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==v(e)?e:e+""}var _=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.popupElement=document.querySelector(e)},(e=[{key:"open",value:function(){this.popupElement.classList.add("popup_show"),this._handleEscClose()}},{key:"close",value:function(){this.popupElement.classList.remove("popup_show")}},{key:"_handleEscClose",value:function(){var t=this;document.addEventListener("keyup",(function(e){"Escape"===e.key&&t.popupElement.classList.remove("popup_show")}))}},{key:"setEventListeners",value:function(){var t=this;this.popupElement.querySelector(".popup__close").addEventListener("click",(function(){t.close()})),this.popupElement.querySelector(".popup__background").addEventListener("click",(function(){t.close()}))}}])&&d(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g(r.key),r)}}function g(t){var e=function(t){if("object"!=w(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==w(e)?e:e+""}function E(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(E=function(){return!!t})()}function x(t,e,n,r){var o=k(j(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=j(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},k.apply(null,arguments)}function j(t){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},j(t)}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}var P=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=function(t,e,n){return e=j(e),function(t,e){if(e&&("object"==w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,E()?Reflect.construct(e,n||[],j(t).constructor):e.apply(t,n))}(this,e,[t])).handleFormSubmit=n,r.formElement=r.popupElement.querySelector("form"),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}(e,t),n=e,(r=[{key:"_getInputValues",value:function(){var t={};return this.formElement.querySelectorAll("input").forEach((function(e){t[e.name]=e.value})),t}},{key:"setEventListeners",value:function(){var t=this;x(e,"setEventListeners",this,3)([]),this.formElement.addEventListener("submit",(function(e){e.preventDefault(),t.handleFormSubmit(t._getInputValues()),t.close()}))}},{key:"close",value:function(){x(e,"close",this,3)([])}}])&&S(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(_);function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q(r.key),r)}}function q(t){var e=function(t){if("object"!=C(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==C(e)?e:e+""}function B(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(B=function(){return!!t})()}function D(){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=I(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},D.apply(null,arguments)}function I(t){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},I(t)}function M(t,e){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},M(t,e)}var T=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=I(e),function(t,e){if(e&&("object"==C(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,B()?Reflect.construct(e,n||[],I(t).constructor):e.apply(t,n))}(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e)}(e,t),n=e,r=[{key:"open",value:function(t,n){var r,o,i;(r=e,o=this,"function"==typeof(i=D(I(1&3?r.prototype:r),"open",o))?function(t){return i.apply(o,t)}:i)([]);var u=this.popupElement.querySelector(".popup__image"),a=this.popupElement.querySelector(".popup__text");u.src=n,u.alt=t,a.textContent=t}}],r&&L(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(_);function H(t){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(t)}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V(r.key),r)}}function V(t){var e=function(t){if("object"!=H(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==H(e)?e:e+""}var A=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.nameElement=document.querySelector(e),this.aboutElement=document.querySelector(n)},(e=[{key:"getUserInfo",value:function(){return{name:this.nameElement.textContent,about:this.aboutElement.textContent}}},{key:"setUserInfo",value:function(t,e){this.nameElement.textContent=t,this.aboutElement.textContent=e}}])&&R(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W(r.key),r)}}function W(t){var e=function(t){if("object"!=U(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==U(e)?e:e+""}var Y=new(function(){return t=function t(e,n){var r=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.items=r,this.renderer=o,this.container=n},(e=[{key:"renderedItems",value:function(){var t=this;this.items.forEach((function(e){t.renderer(e)}))}},{key:"addItem",value:function(t){this.container.prepend(t)}}])&&G(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}())({items:[{name:"Bellas Artes, CDMX",link:new URL(n(412),n.b)},{name:"Cabo San Lucas, B.C.S.",link:new URL(n(509),n.b)},{name:"Chichén Itzá, Yuc.",link:new URL(n(95),n.b)},{name:"San Pedro Cholula, Pue.",link:new URL(n(839),n.b)},{name:"Cañon del Sumidero, Chis.",link:new URL(n(471),n.b)},{name:"Janos, Chih.",link:new URL(n(515),n.b)}],renderer:function(t){z(t)}},i);Y.renderedItems();var Z={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button-submit",inactiveButtonClass:"popup__button-submit_disabled",inputErrorClass:"popup__input_type-error",errorClass:"popup__input-error_active"},F=new P(".popup_profile",(function(t){var e=t.description,n=t.name;N.setUserInfo(n,e)}));F.setEventListeners();var X=new P(".popup_add",(function(t){z({name:t.title,link:t.link})}));X.setEventListeners(),document.querySelector(".profile__button-edit").addEventListener("click",(function(){F.open();var t=N.getUserInfo();r.value=t.name,o.value=t.about})),document.querySelector(".profile__content-add").addEventListener("click",(function(){X.open()})),new b(u,Z).enableValidation(),new b(a,Z).enableValidation();var J=new T(".popup_image");J.setEventListeners();var N=new A(".profile__name",".profile__explorer");function z(t){var e=new p(t.name,t.link,".template",(function(){J.open(t.name,t.link)})).generateCard();Y.addItem(e)}}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LDZCQUdSZ0UsRUFBZSxJQUFJdkMsRUFBYyxrQkFBa0IsU0FBQ3dDLEdBQ3hELElBQVE1RyxFQUFzQjRHLEVBQXRCNUcsWUFBYUYsRUFBUzhHLEVBQVQ5RyxLQUNyQitHLEVBQVNDLFlBQVloSCxFQUFNRSxFQUM3QixJQUNBMkcsRUFBYUksb0JBRWIsSUFBTUMsRUFBVyxJQUFJNUMsRUFBYyxjQUFjLFNBQUNLLEdBQ2hENEIsRUFBVyxDQUFFdkcsS0FBTTJFLEVBQU93QyxNQUFPekcsS0FBTWlFLEVBQU9qRSxNQUNoRCxJQUNBd0csRUFBU0Qsb0JBRWF6SCxTQUFTWSxjQUFjLHlCQUMvQndCLGlCQUFpQixTQUFTLFdBQ3RDaUYsRUFBYU8sT0FDYixJQUFNQyxFQUFnQk4sRUFBU08sY0FDL0J6SCxFQUFVc0IsTUFBUWtHLEVBQWNySCxLQUNoQ0MsRUFBV2tCLE1BQVFrRyxFQUFjMUIsS0FDbkMsSUFFa0JuRyxTQUFTWSxjQUFjLHlCQUMvQndCLGlCQUFpQixTQUFTLFdBQ2xDc0YsRUFBU0UsTUFDWCxJQUVnQixJQUFJbEYsRUFBYzdCLEVBQWFvRyxHQUN2Q2MsbUJBRUksSUFBSXJGLEVBQWMzQixFQUFTa0csR0FDbkNjLG1CQUVKLElBQU1DLEVBQWlCLElBQUl2QyxFQUFlLGdCQUMxQ3VDLEVBQWVQLG9CQUVmLElBQU1GLEVBQVcsSUFBSXhCLEVBQVMsaUJBQWtCLHNCQUVoRCxTQUFTZ0IsRUFBV0osR0FDbEIsSUFHTXNCLEVBSFUsSUFBSWhILEVBQUswRixFQUFLbkcsS0FBTW1HLEVBQUt6RixLQUFNLGFBQWEsV0FDMUQ4RyxFQUFlSixLQUFLakIsRUFBS25HLEtBQU1tRyxFQUFLekYsS0FDdEMsSUFDNEJnSCxlQUM1QjlCLEVBQVkrQixRQUFRRixFQUN0QixDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9TZWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsgfSIsIl9fd2VicGFja19yZXF1aXJlX18uYiA9IGRvY3VtZW50LmJhc2VVUkkgfHwgc2VsZi5sb2NhdGlvbi5ocmVmO1xuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDc5MjogMFxufTtcblxuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxuLy8gbm8gb24gY2h1bmtzIGxvYWRlZFxuXG4vLyBubyBqc29ucCBmdW5jdGlvbiIsImV4cG9ydCBjb25zdCBuYW1lSW5wdXQgPSBwcm9maWxlLmVsZW1lbnRzLm5hbWU7XHJcbmV4cG9ydCBjb25zdCBhYm91dElucHV0ID0gcHJvZmlsZS5lbGVtZW50cy5kZXNjcmlwdGlvbjtcclxuZXhwb3J0IGNvbnN0IHBvcHVwUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfcHJvZmlsZVwiKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c1wiKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2ltYWdlXCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBBZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2FkZFwiKTtcclxuZXhwb3J0IGNvbnN0IGZvcm1Qcm9maWxlID0gZG9jdW1lbnQuZm9ybXMucHJvZmlsZTtcclxuZXhwb3J0IGNvbnN0IGZvcm1BZGQgPSBkb2N1bWVudC5mb3Jtcy5hZGQ7XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKG5hbWUsIGxpbmssIGNhcmRTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBsaW5rO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgdGhpcy5oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgfVxyXG5cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50XCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2ltYWdlXCIpLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fdGV4dFwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2J1dHRvbi10cmFzaFwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2J1dHRvbi1saWtlXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRfX2J1dHRvbi1kaXNsaWtlXCIpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2ltYWdlXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlQ2FyZENsaWNrKCk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihmb3JtRWxlbWVudCwgZm9ybVZhbGlkaXR5KSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gICAgdGhpcy5fZm9ybVZhbGlkaXR5ID0gZm9ybVZhbGlkaXR5O1xyXG4gIH1cclxuICBfc2hvd0lucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9mb3JtVmFsaWRpdHkuaW5wdXRFcnJvckNsYXNzKTsgLy9zZSBsZSBhw7FhZGUgbGEgY2xhc2UgcXVlIG11ZXN0cmEgZWwgYm9yZGUgcm9qb1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZm9ybVZhbGlkaXR5LmVycm9yQ2xhc3MpOyAvL3NlIGxlIGHDsWFkZSBsYSBjbGFzZSBjb24gZWwgbWVuc2FqZSBkZWwgaW5wdXQgaWRcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9faW5wdXQtZXJyb3JfYWN0aXZlXCIpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCkge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoXHJcbiAgICAgICAgZm9ybUVsZW1lbnQsXHJcbiAgICAgICAgaW5wdXRFbGVtZW50LFxyXG4gICAgICAgIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZVxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkge1xyXG4gICAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSkge1xyXG4gICAgICBidXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZm9ybVZhbGlkaXR5LmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Zvcm1WYWxpZGl0eS5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycyhmb3JtRWxlbWVudCkge1xyXG4gICAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKSk7XHJcbiAgICBjb25zdCBidXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uLXN1Ym1pdFwiKTtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCk7XHJcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKHRoaXMuX2Zvcm1FbGVtZW50KTsgLy9cclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMucG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLnBvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfc2hvd1wiKTtcclxuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKCk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMucG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9zaG93XCIpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlKCkge1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIChldnQpID0+IHtcclxuICAgICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICB0aGlzLnBvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfc2hvd1wiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gdGhpcy5wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2VcIik7XHJcbiAgICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBjbG9zZUJhY2tncm91bmQgPVxyXG4gICAgICB0aGlzLnBvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19iYWNrZ3JvdW5kXCIpO1xyXG4gICAgY2xvc2VCYWNrZ3JvdW5kLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLmhhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5mb3JtRWxlbWVudCA9IHRoaXMucG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJmb3JtXCIpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgbGV0IHZhbHVlcyA9IHt9O1xyXG4gICAgY29uc3QgaW5wdXRMaXN0ID0gdGhpcy5mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRcIik7XHJcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB2YWx1ZXM7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLmZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuaGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIG9wZW4oaW1hZ2VOYW1lLCBpbWFnZUxpbmspIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIGNvbnN0IGltYWdlRWxlbWVudCA9IHRoaXMucG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpO1xyXG4gICAgY29uc3QgbmFtZUVsZW1lbnQgPSB0aGlzLnBvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX190ZXh0XCIpO1xyXG5cclxuICAgIGltYWdlRWxlbWVudC5zcmMgPSBpbWFnZUxpbms7XHJcbiAgICBpbWFnZUVsZW1lbnQuYWx0ID0gaW1hZ2VOYW1lO1xyXG4gICAgbmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBpbWFnZU5hbWU7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3RvcihuYW1lRWxlbWVudFNlbGVjdG9yLCBhYm91dEVsZW1lbnRTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5uYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZUVsZW1lbnRTZWxlY3Rvcik7XHJcbiAgICB0aGlzLmFib3V0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWJvdXRFbGVtZW50U2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLm5hbWVFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgICBhYm91dDogdGhpcy5hYm91dEVsZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8obmFtZSwgYWJvdXQpIHtcclxuICAgIHRoaXMubmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5hYm91dEVsZW1lbnQudGV4dENvbnRlbnQgPSBhYm91dDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFwiLi9zdHlsZXMvaW5kZXguY3NzXCI7XHJcblxyXG5pbXBvcnQge1xyXG4gIGZvcm1BZGQsXHJcbiAgZm9ybVByb2ZpbGUsXHJcbiAgY2FyZHNDb250YWluZXIsXHJcbiAgbmFtZUlucHV0LFxyXG4gIGFib3V0SW5wdXQsXHJcbn0gZnJvbSBcIi4vdXRpbHMuanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4vQ2FyZC5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi9TZWN0aW9uLmpzXCI7XHJcblxyXG5jb25zdCBiYUltYWdlID0gbmV3IFVSTChcclxuICBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTQ3Njg2NjY5LTlhOGNiMWEyMmQ5MT9xPTgwJnc9MTk3NCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZpeGxpYj1yYi00LjAuMyZpeGlkPU0zd3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4ZkElM0QlM0RcIixcclxuICBpbXBvcnQubWV0YS51cmxcclxuKTtcclxuY29uc3QgY3NsSW1hZ2UgPSBuZXcgVVJMKFxyXG4gIFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1NjIwOTUyNDEtOGM2NzE0ZmQ0MTc4P3E9ODAmdz0xOTY1JmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiLFxyXG4gIGltcG9ydC5tZXRhLnVybFxyXG4pO1xyXG5jb25zdCBjaUltYWdlID0gbmV3IFVSTChcclxuICBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTY4NDAyMTAyOTkwLWJjNTQxNTgwYjU5Zj9xPTgwJnc9MTg4NyZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZpeGxpYj1yYi00LjAuMyZpeGlkPU0zd3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4ZkElM0QlM0RcIixcclxuICBpbXBvcnQubWV0YS51cmxcclxuKTtcclxuY29uc3Qgc3BjSW1hZ2UgPSBuZXcgVVJMKFxyXG4gIFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE0NzM3MjY4Njc3MjItNmI4YTVlNTI5ZDc2P3E9ODAmdz04NzImYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCIsXHJcbiAgaW1wb3J0Lm1ldGEudXJsXHJcbik7XHJcbmNvbnN0IGNzSW1hZ2UgPSBuZXcgVVJMKFxyXG4gIFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE2MzA0NjU3MTExNzItNGQ5ODdmM2ZkOWM4P3E9ODAmdz0xODg3JmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiLFxyXG4gIGltcG9ydC5tZXRhLnVybFxyXG4pO1xyXG5jb25zdCBqSW1hZ2UgPSBuZXcgVVJMKFxyXG4gIFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE0OTY0MjU3NDU3MDktNWY5Mjk3NTY2YjQ2P3c9MTAwMCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZxPTYwJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4amIyeHNaV04wYVc5dUxYQmhaMlY4TVh4YU9GQnFaSGhKVG5CQk9IeDhaVzU4TUh4OGZIeDhcIixcclxuICBpbXBvcnQubWV0YS51cmxcclxuKTtcclxuXHJcbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiBcIkJlbGxhcyBBcnRlcywgQ0RNWFwiLFxyXG4gICAgbGluazogYmFJbWFnZSxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiQ2FibyBTYW4gTHVjYXMsIEIuQy5TLlwiLFxyXG4gICAgbGluazogY3NsSW1hZ2UsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkNoaWNow6luIEl0esOhLCBZdWMuXCIsXHJcbiAgICBsaW5rOiBjaUltYWdlLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJTYW4gUGVkcm8gQ2hvbHVsYSwgUHVlLlwiLFxyXG4gICAgbGluazogc3BjSW1hZ2UsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkNhw7FvbiBkZWwgU3VtaWRlcm8sIENoaXMuXCIsXHJcbiAgICBsaW5rOiBjc0ltYWdlLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJKYW5vcywgQ2hpaC5cIixcclxuICAgIGxpbms6IGpJbWFnZSxcclxuICB9LFxyXG5dO1xyXG5cclxuY29uc3Qgc2VjdGlvbkNhcmQgPSBuZXcgU2VjdGlvbihcclxuICB7XHJcbiAgICBpdGVtczogaW5pdGlhbENhcmRzLFxyXG4gICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XHJcbiAgICAgIGNyZWF0ZUNhcmQoaXRlbSk7XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgY2FyZHNDb250YWluZXJcclxuKTtcclxuXHJcbnNlY3Rpb25DYXJkLnJlbmRlcmVkSXRlbXMoKTtcclxuXHJcbmNvbnN0IHNldHRpbmdzID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvbi1zdWJtaXRcIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b24tc3VibWl0X2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlLWVycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXHJcbn07XHJcblxyXG5jb25zdCBwb3B1cFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF9wcm9maWxlXCIsIChkYXRhKSA9PiB7XHJcbiAgY29uc3QgeyBkZXNjcmlwdGlvbiwgbmFtZSB9ID0gZGF0YTtcclxuICB1c2VySW5mby5zZXRVc2VySW5mbyhuYW1lLCBkZXNjcmlwdGlvbik7XHJcbn0pO1xyXG5wb3B1cFByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IHBvcHVwQWRkID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfYWRkXCIsICh2YWx1ZXMpID0+IHtcclxuICBjcmVhdGVDYXJkKHsgbmFtZTogdmFsdWVzLnRpdGxlLCBsaW5rOiB2YWx1ZXMubGluayB9LCBjYXJkc0NvbnRhaW5lcik7XHJcbn0pO1xyXG5wb3B1cEFkZC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgYnV0dG9uUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYnV0dG9uLWVkaXRcIik7XHJcbmJ1dHRvblByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwb3B1cFByb2ZpbGUub3BlbigpO1xyXG4gIGNvbnN0IHByb2ZpbGVWYWx1ZXMgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIG5hbWVJbnB1dC52YWx1ZSA9IHByb2ZpbGVWYWx1ZXMubmFtZTtcclxuICBhYm91dElucHV0LnZhbHVlID0gcHJvZmlsZVZhbHVlcy5hYm91dDtcclxufSk7XHJcblxyXG5jb25zdCBidXR0b25BZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2NvbnRlbnQtYWRkXCIpO1xyXG5idXR0b25BZGQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwb3B1cEFkZC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuY29uc3QgcHJvZmlsZSA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1Qcm9maWxlLCBzZXR0aW5ncyk7XHJcbnByb2ZpbGUuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgYWRkID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUFkZCwgc2V0dGluZ3MpO1xyXG5hZGQuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXBfaW1hZ2VcIik7XHJcbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhcIi5wcm9maWxlX19uYW1lXCIsIFwiLnByb2ZpbGVfX2V4cGxvcmVyXCIpO1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChpdGVtKSB7XHJcbiAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKGl0ZW0ubmFtZSwgaXRlbS5saW5rLCBcIi50ZW1wbGF0ZVwiLCAoKSA9PiB7XHJcbiAgICBwb3B1cFdpdGhJbWFnZS5vcGVuKGl0ZW0ubmFtZSwgaXRlbS5saW5rKTtcclxuICB9KTtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IG5ld0NhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbiAgc2VjdGlvbkNhcmQuYWRkSXRlbShjYXJkRWxlbWVudCk7XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY2FyZENvbnRhaW5lcikge1xyXG4gICAgdGhpcy5pdGVtcyA9IGl0ZW1zOyAvL2FycmF5IGRlIGRhdG9zXHJcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7IC8vZnVuY2lvbiBjcmVhIHkgcmVuZGVyaXphIGxvcyBkYXRvcyBkZSBsYSBww6FnaW5hLlxyXG4gICAgdGhpcy5jb250YWluZXIgPSBjYXJkQ29udGFpbmVyOyAvL2RvbmRlIHNlIGFncmVnYW4gbG9zIGVsZW1lbnRvcyBkZSBsYSB0YXJqZXRhXHJcbiAgfVxyXG5cclxuICByZW5kZXJlZEl0ZW1zKCkge1xyXG4gICAgdGhpcy5pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMucmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibSIsIm8iLCJvYmoiLCJwcm9wIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiYiIsImRvY3VtZW50IiwiYmFzZVVSSSIsInNlbGYiLCJsb2NhdGlvbiIsImhyZWYiLCJuYW1lSW5wdXQiLCJwcm9maWxlIiwiZWxlbWVudHMiLCJuYW1lIiwiYWJvdXRJbnB1dCIsImRlc2NyaXB0aW9uIiwiY2FyZHNDb250YWluZXIiLCJxdWVyeVNlbGVjdG9yIiwiZm9ybVByb2ZpbGUiLCJmb3JtcyIsImZvcm1BZGQiLCJhZGQiLCJDYXJkIiwibGluayIsImNhcmRTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfbmFtZSIsIl9saW5rIiwiX2NhcmRTZWxlY3RvciIsImtleSIsInZhbHVlIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwic3JjIiwidGV4dENvbnRlbnQiLCJfdGhpcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJldnQiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJmb3JtVmFsaWRpdHkiLCJfZm9ybUVsZW1lbnQiLCJfZm9ybVZhbGlkaXR5IiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiY29uY2F0IiwiaWQiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiaW5wdXRMaXN0Iiwic29tZSIsImJ1dHRvbkVsZW1lbnQiLCJfaGFzSW52YWxpZElucHV0Iiwic2V0QXR0cmlidXRlIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsInJlbW92ZUF0dHJpYnV0ZSIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsInBvcHVwRWxlbWVudCIsIl9oYW5kbGVFc2NDbG9zZSIsIl90aGlzMiIsImNsb3NlIiwiUG9wdXBXaXRoRm9ybSIsIl9Qb3B1cCIsImhhbmRsZUZvcm1TdWJtaXQiLCJfY2FsbFN1cGVyIiwiX2luaGVyaXRzIiwidmFsdWVzIiwiaW5wdXQiLCJfc3VwZXJQcm9wR2V0IiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsIlBvcHVwV2l0aEltYWdlIiwiaW1hZ2VOYW1lIiwiaW1hZ2VMaW5rIiwiaW1hZ2VFbGVtZW50IiwibmFtZUVsZW1lbnQiLCJhbHQiLCJVc2VySW5mbyIsIm5hbWVFbGVtZW50U2VsZWN0b3IiLCJhYm91dEVsZW1lbnRTZWxlY3RvciIsImFib3V0RWxlbWVudCIsImFib3V0Iiwic2VjdGlvbkNhcmQiLCJTZWN0aW9uIiwiX3JlZiIsImNhcmRDb250YWluZXIiLCJpdGVtcyIsInJlbmRlcmVyIiwiY29udGFpbmVyIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiVVJMIiwiY3JlYXRlQ2FyZCIsInJlbmRlcmVkSXRlbXMiLCJzZXR0aW5ncyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsInBvcHVwUHJvZmlsZSIsImRhdGEiLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJwb3B1cEFkZCIsInRpdGxlIiwib3BlbiIsInByb2ZpbGVWYWx1ZXMiLCJnZXRVc2VySW5mbyIsImVuYWJsZVZhbGlkYXRpb24iLCJwb3B1cFdpdGhJbWFnZSIsImNhcmRFbGVtZW50IiwiZ2VuZXJhdGVDYXJkIiwiYWRkSXRlbSJdLCJzb3VyY2VSb290IjoiIn0=